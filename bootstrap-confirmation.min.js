/*!
 * Bootstrap Confirmation 2.1.0
 * Copyright 2013 Nimit Suwannagate <ethaizone@hotmail.com>
 * Copyright 2014 Damien "Mistic" Sorel <http://www.strangeplanet.fr>
 * Licensed under the Apache License, Version 2.0 (the "License")
 */
+function(a){"use strict";function b(a){for(var b=window,c=a.split("."),d=c.pop(),e=0;e<c.length;e++)b=b[c[e]];return function(){b[d].call(this)}}if(!a.fn.popover)throw new Error("Confirmation requires popover.js");var c=!1,d=function(b,d){this.init("confirmation",b,d);var e=this;this.$element.attr("href")&&(this.options.href=this.$element.attr("href"),this.$element.removeAttr("href"),this.$element.attr("target")&&(this.options.target=this.$element.attr("target"))),this.$element.on(e.options.trigger,function(a,b){b||(a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation())}),this.$element.on("confirmed.bs.confirmation",function(){a(this).trigger(e.options.trigger,[!0])}),this.$element.on("show.bs.confirmation",function(){var b=e.options;b.singleton&&a(b._all_selector).not(e.$element).confirmation("hide")}),this.$element.on("shown.bs.confirmation",function(){var b=e.options;b.popout&&!c&&(c=a("body").on("click",function(d){a(b._all_selector).is(d.target)||(a(b._all_selector).confirmation("hide"),a("body").off(d),c=!1)}))})};d.DEFAULTS=a.extend({},a.fn.popover.Constructor.DEFAULTS,{placement:"top",title:"Are you sure?",html:!0,href:!1,popout:!1,singleton:!1,target:"_self",onConfirm:a.noop,onCancel:a.noop,btnOkClass:"btn-xs btn-primary",btnOkIcon:"glyphicon glyphicon-ok",btnOkLabel:"Yes",btnCancelClass:"btn-xs btn-default",btnCancelIcon:"glyphicon glyphicon-remove",btnCancelLabel:"No",template:'<div class="popover confirmation"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content text-center"><div class="btn-group"><a class="btn" data-apply="confirmation"></a><a class="btn" data-dismiss="confirmation"></a></div></div></div>'}),d.prototype=a.extend({},a.fn.popover.Constructor.prototype),d.prototype.constructor=d,d.prototype.getDefaults=function(){return d.DEFAULTS},d.prototype.setContent=function(){var b=this,c=this.tip(),d=this.getTitle(),e=this.options;c.find(".popover-title")[e.html?"html":"text"](d),c.find('[data-apply="confirmation"]').addClass(e.btnOkClass).html(e.btnOkLabel).prepend(a("<i></i>").addClass(e.btnOkIcon)," ").off("click").one("click",function(){b.getOnConfirm.call(b).call(b.$element),b.$element.trigger("confirmed.bs.confirmation"),b.leave(b)}),e.href&&c.find('[data-apply="confirmation"]').attr({href:e.href,target:e.target}),c.find('[data-dismiss="confirmation"]').addClass(e.btnCancelClass).html(e.btnCancelLabel).prepend(a("<i></i>").addClass(e.btnCancelIcon)," ").off("click").one("click",function(){b.getOnCancel.call(b).call(b.$element),b.$element.trigger("canceled.bs.confirmation"),b.leave(b)}),c.removeClass("fade top bottom left right in"),c.find(".popover-title").html()||c.find(".popover-title").hide()},d.prototype.getOnConfirm=function(){var a=this.$element,c=this.options;return a.attr("data-on-confirm")?b(a.attr("data-on-confirm")):c.onConfirm},d.prototype.getOnCancel=function(){var a=this.$element,c=this.options;return a.attr("data-on-cancel")?b(a.attr("data-on-cancel")):c.onCancel};var e=a.fn.confirmation;a.fn.confirmation=function(b){var c="object"==typeof b&&b||{};return c._all_selector=this.selector,this.each(function(){var e=a(this),f=e.data("bs.confirmation");(f||"destroy"!=b)&&(f||e.data("bs.confirmation",f=new d(this,c)),"string"==typeof b&&f[b]())})},a.fn.confirmation.Constructor=d,a.fn.confirmation.noConflict=function(){return a.fn.confirmation=e,this}}(jQuery);